[gd_scene load_steps=7 format=3 uid="uid://dvbw7aiyi1smw"]

[ext_resource type="Script" path="res://interactibles/ability_container.gd" id="1_ussmo"]
[ext_resource type="Script" path="res://interactibles/ability_container_model_debug.gd" id="2_0qga2"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_cakiv"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eed8t"]

[sub_resource type="CylinderMesh" id="CylinderMesh_hx4cl"]
material = SubResource("StandardMaterial3D_eed8t")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_huk7j"]
properties/0/path = NodePath(".:HITS_NEEDED")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:HITS_TAKEN")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath(".:CAN_BE_HIT")
properties/2/spawn = true
properties/2/replication_mode = 2
properties/3/path = NodePath(".:IS_BROKEN")
properties/3/spawn = true
properties/3/replication_mode = 2
properties/4/path = NodePath(".:CAN_BE_INTERACTED_WITH")
properties/4/spawn = true
properties/4/replication_mode = 2
properties/5/path = NodePath(".:INTERACTION_PROMPT_MESSAGE")
properties/5/spawn = true
properties/5/replication_mode = 2
properties/6/path = NodePath(".:ABILITY_CONTAINED")
properties/6/spawn = true
properties/6/replication_mode = 2

[node name="AbilityContainer" type="StaticBody3D"]
collision_layer = 4
script = ExtResource("1_ussmo")
BROKEN_INTERACTION_PROMPT_MESSAGE = "Take"
INTERACTION_PROMPT_MESSAGE = "Break the glass"

[node name="Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_cakiv")

[node name="Model" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CylinderMesh_hx4cl")
script = ExtResource("2_0qga2")

[node name="ContainerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_huk7j")

[connection signal="broken" from="." to="Model" method="_on_ability_container_broken"]
[connection signal="damaged" from="." to="Model" method="_on_ability_container_damaged"]
[connection signal="emptied" from="." to="Model" method="_on_ability_container_emptied"]
[connection signal="delta_synchronized" from="ContainerSynchronizer" to="." method="_update"]
